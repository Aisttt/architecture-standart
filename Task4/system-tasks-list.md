# Список задач по системам для реализации передачи ставок в кол-центр

## Новые компоненты

### Rates Management Service (новый микросервис)
**Команда**: 2-3 Java разработчика + 1 DevOps
**Срок**: 6-8 недель

#### Основные задачи:
1. **Создание core сервиса**
   - [ ] Настройка Spring Boot проекта с PostgreSQL
   - [ ] Создание модели данных для ставок и истории изменений
   - [ ] Реализация CRUD операций для управления ставками
   - [ ] Создание REST API для внутренних потребителей

2. **Excel интеграция**
   - [ ] Email Gateway для получения Excel файлов от сотрудников
   - [ ] Excel Parser с использованием Apache POI
   - [ ] Валидация данных из Excel файлов
   - [ ] Механизм обработки ошибок и уведомлений

3. **Внешние интеграции**
   - [ ] SFTP Client для загрузки файлов партнёрам
   - [ ] Конфигурируемые форматы экспорта (CSV, XML, JSON)
   - [ ] Scheduler для периодической синхронизации
   - [ ] Retry mechanisms для надёжной доставки

4. **Мониторинг и логирование**
   - [ ] Structured logging всех операций
   - [ ] Метрики Prometheus для мониторинга
   - [ ] Health checks и readiness probes
   - [ ] Alerting при сбоях синхронизации

5. **Безопасность и производительность**
   - [ ] Шифрование данных при передаче
   - [ ] Redis кэширование для быстрого доступа
   - [ ] Rate limiting для API
   - [ ] Backup и восстановление данных

---

## Модификации существующих систем

### Система кол-центра банка
**Команда**: 1-2 разработчика системы кол-центра
**Срок**: 3-4 недели

#### Задачи модификации:
1. **API интеграция**
   - [ ] Создание клиента для Rates Management Service API
   - [ ] Кэширование ставок в локальной БД (PostgreSQL)
   - [ ] Обновление UI для отображения актуальных ставок

2. **UX улучшения**
   - [ ] Добавление раздела "Депозитные ставки" в интерфейс оператора
   - [ ] Поиск ставок по типу депозита и сроку
   - [ ] Индикатор актуальности данных (время последнего обновления)

3. **Интеграция с заявками**
   - [ ] Связь ставок с создаваемыми заявками на депозиты
   - [ ] Автоматическое заполнение ставки при создании заявки
   - [ ] История консультаций по ставкам для клиента

### АБС (Автоматизированная банковская система)
**Команда**: 2 разработчика команды АБС
**Срок**: 4-5 недель

#### Задачи расширения:
1. **Integration Layer enhancement**
   - [ ] Расширение существующего Integration Layer
   - [ ] API endpoint для получения актуальных ставок
   - [ ] Webhook уведомления при изменении ставок

2. **Синхронизация данных**
   - [ ] Scheduled job для экспорта ставок в Rates Management Service
   - [ ] Механизм инкрементального обновления
   - [ ] Conflict resolution при одновременных изменениях

3. **Мониторинг интеграции**
   - [ ] Логирование всех операций экспорта ставок
   - [ ] Метрики производительности интеграции
   - [ ] Alerting при сбоях синхронизации

### Интернет-банк
**Команда**: 1 разработчик интернет-банка
**Срок**: 2-3 недели

#### Задачи интеграции:
1. **Обновление Deposits API**
   - [ ] Интеграция с Rates Management Service вместо прямых вызовов к АБС
   - [ ] Кэширование персонализированных ставок
   - [ ] Fallback механизм при недоступности Rates Service

2. **Производительность**
   - [ ] Оптимизация загрузки справочных данных (текущая проблема >1 сек)
   - [ ] Кэширование статических данных о депозитах
   - [ ] Lazy loading для неприоритетных данных

### Сайт банка
**Команда**: 1 разработчик сайта
**Срок**: 1-2 недели

#### Задачи обновления:
1. **Интеграция со ставками**
   - [ ] API вызовы к Rates Management Service
   - [ ] Обновление React компонентов для отображения ставок
   - [ ] Кэширование на frontend для быстрой загрузки

2. **UX улучшения**
   - [ ] Индикатор актуальности ставок
   - [ ] Фильтрация депозитов по ставкам и срокам
   - [ ] Responsive дизайн для таблицы ставок

---

## Инфраструктурные задачи

### DevOps и инфраструктура
**Команда**: 1-2 DevOps инженера
**Срок**: 2-3 недели

#### Задачи развёртывания:
1. **Containerization**
   - [ ] Создание Docker images для Rates Management Service
   - [ ] Kubernetes deployment манифесты
   - [ ] Helm charts для упрощения развёртывания

2. **Мониторинг и логирование**
   - [ ] Настройка ELK Stack для централизованного логирования
   - [ ] Grafana dashboards для мониторинга ставок
   - [ ] Prometheus alerts для критических метрик

3. **Networking и безопасность**
   - [ ] SFTP сервер для партнёрского кол-центра
   - [ ] VPN туннель для безопасной передачи данных
   - [ ] Firewall правила для новых сервисов

4. **Backup и recovery**
   - [ ] Automated backup для PostgreSQL с данными ставок
   - [ ] Disaster recovery процедуры
   - [ ] Testing восстановления данных

---

## Тестирование и качество

### QA команда
**Команда**: 2 QA инженера
**Срок**: 3-4 недели (параллельно с разработкой)

#### Задачи тестирования:
1. **Функциональное тестирование**
   - [ ] Тестирование Excel import процесса
   - [ ] Проверка синхронизации ставок между системами
   - [ ] Тестирование SFTP экспорта для партнёра

2. **Интеграционное тестирование**
   - [ ] End-to-end тестирование потока ставок
   - [ ] Тестирование API интеграций
   - [ ] Проверка fallback механизмов

3. **Performance тестирование**
   - [ ] Нагрузочное тестирование Rates Management Service
   - [ ] Тестирование времени синхронизации ставок
   - [ ] Проверка производительности кэширования

4. **Security тестирование**
   - [ ] Тестирование SFTP соединений
   - [ ] Проверка шифрования данных
   - [ ] Тестирование авторизации API

---

## Сводная таблица ресурсов

| Команда | Количество людей | Длительность | Параллельность |
|---------|------------------|--------------|----------------|
| Rates Management Service | 3 человека | 6-8 недель | Основная разработка |
| Система кол-центра | 2 человека | 3-4 недели | После API готовности |
| АБС Integration | 2 человека | 4-5 недель | Параллельно с Rates Service |
| Интернет-банк | 1 человек | 2-3 недели | После Rates Service |
| Сайт | 1 человек | 1-2 недели | После Rates Service |
| DevOps | 2 человека | 2-3 недели | Параллельно с разработкой |
| QA | 2 человека | 3-4 недели | Параллельно с разработкой |

Общие ресурсы: 13 человек
Критический путь: 8 недель (Rates Management Service)
Общая длительность проекта: 10-12 недель с учётом интеграционного тестирования

---

## Зависимости между задачами

1. Rates Management Service → Все остальные интеграции
2. АБС Integration Layer → Синхронизация данных
3. API готовность → Интеграция кол-центра и интернет-банка
4. SFTP setup → Интеграция партнёрского кол-центра
5. Инфраструктура → Deployment и мониторинг

## Критические риски по системам

- Rates Management Service: Новый компонент, высокий риск задержек
- АБС Integration: Ограниченные ресурсы команды АБС
- Партнёрская интеграция: Зависимость от внешней команды партнёра
- Excel процесс: Человеческий фактор в ручном процессе обновления ставок